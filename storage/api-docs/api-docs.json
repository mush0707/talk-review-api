{
    "openapi": "3.0.0",
    "info": {
        "title": "Talk Review API",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8080",
            "description": "Local Docker"
        }
    ],
    "paths": {
        "/api/auth/register": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Register a user (provider-based). Currently provider=local.",
                "operationId": "authRegister",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AuthRegisterRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Registered",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuthTokenResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "400": {
                        "description": "Bad request"
                    }
                }
            }
        },
        "/api/auth/email/verification-notification": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Resend verification email (requires auth)",
                "operationId": "authResendVerification",
                "responses": {
                    "200": {
                        "description": "Sent",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/GenericOkResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "422": {
                        "description": "Already verified / validation error"
                    },
                    "400": {
                        "description": "Bad request"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/auth/verify-email/{id}/{hash}": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Verify email by signed link (redirects to frontend)",
                "operationId": "authVerifyEmail",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    },
                    {
                        "name": "hash",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "302": {
                        "description": "Redirect to frontend"
                    },
                    "403": {
                        "description": "Invalid/expired signature"
                    }
                }
            }
        },
        "/api/auth/login": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Login (provider-based). Currently provider=local.",
                "operationId": "authLogin",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AuthLoginRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Logged in",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuthTokenResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Invalid credentials / validation error"
                    },
                    "400": {
                        "description": "Bad request"
                    }
                }
            }
        },
        "/api/auth/me": {
            "get": {
                "tags": [
                    "Auth"
                ],
                "summary": "Get current user",
                "operationId": "authMe",
                "responses": {
                    "200": {
                        "description": "Current user",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AuthMeResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/auth/logout": {
            "post": {
                "tags": [
                    "Auth"
                ],
                "summary": "Logout (revoke current token)",
                "operationId": "authLogout",
                "responses": {
                    "200": {
                        "description": "Logged out",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/GenericOkResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/notifications": {
            "get": {
                "tags": [
                    "Notifications"
                ],
                "summary": "List latest notifications for current user",
                "description": "Returns latest notifications and unread count. Supports optional search.",
                "operationId": "notificationsIndex",
                "parameters": [
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 20,
                            "minimum": 1
                        },
                        "example": 20
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "example": "proposal"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Notifications list + unread count",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotificationsListResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "403": {
                        "description": "Forbidden / Email not verified"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/notifications/read-all": {
            "post": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Mark all notifications as read",
                "operationId": "notificationsReadAll",
                "responses": {
                    "200": {
                        "description": "OK",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/GenericOkResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "403": {
                        "description": "Forbidden / Email not verified"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/notifications/unread-count": {
            "get": {
                "tags": [
                    "Notifications"
                ],
                "summary": "Get unread notifications count",
                "description": "Use this for bell badge refresh (e.g., on every page refresh).",
                "operationId": "notificationsUnreadCount",
                "responses": {
                    "200": {
                        "description": "Unread count",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotificationsUnreadCountResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "403": {
                        "description": "Forbidden / Email not verified"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/proposals": {
            "get": {
                "tags": [
                    "Proposals"
                ],
                "summary": "Search/list proposals (role-scoped)",
                "operationId": "proposalsIndex",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "example": "laravel"
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "pending",
                                "approved",
                                "rejected"
                            ]
                        },
                        "example": "pending"
                    },
                    {
                        "name": "tag_ids[]",
                        "in": "query",
                        "required": false,
                        "style": "form",
                        "explode": true,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "integer"
                            }
                        },
                        "example": [
                            1,
                            2
                        ]
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 1
                        },
                        "example": 1
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 10
                        },
                        "example": 10
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated proposals",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedProposalSearchHitResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "403": {
                        "description": "Forbidden / Email not verified"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Proposals"
                ],
                "summary": "Create proposal (speaker only)",
                "operationId": "proposalsStore",
                "requestBody": {
                    "required": true,
                    "content": {
                        "multipart/form-data": {
                            "schema": {
                                "$ref": "#/components/schemas/ProposalCreateRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created proposal",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Proposal"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "403": {
                        "description": "Forbidden / Email not verified"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/proposals/{proposal}": {
            "get": {
                "tags": [
                    "Proposals"
                ],
                "summary": "Get proposal by id (speaker can only access own)",
                "operationId": "proposalsShow",
                "parameters": [
                    {
                        "name": "proposal",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 10
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Proposal + attachment download link (if exists)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProposalShowResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/proposals/{proposal}/attachment": {
            "get": {
                "tags": [
                    "Proposals"
                ],
                "summary": "Download proposal attachment via temporary signed URL",
                "operationId": "proposalsDownloadAttachment",
                "parameters": [
                    {
                        "name": "proposal",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 4
                    }
                ],
                "responses": {
                    "200": {
                        "description": "PDF file stream",
                        "content": {
                            "application/pdf": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Invalid/expired signature"
                    },
                    "404": {
                        "description": "Not found"
                    }
                }
            }
        },
        "/api/proposals/{proposal}/status": {
            "patch": {
                "tags": [
                    "Proposals"
                ],
                "summary": "Change proposal status (admin only)",
                "operationId": "proposalsChangeStatus",
                "parameters": [
                    {
                        "name": "proposal",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 10
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ProposalStatusChangeRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "204": {
                        "description": "No content"
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/proposals/{proposal}/reviews": {
            "get": {
                "tags": [
                    "Reviews"
                ],
                "summary": "List reviews for a proposal (paginated, searchable)",
                "operationId": "reviewsIndex",
                "parameters": [
                    {
                        "name": "proposal",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 10
                    },
                    {
                        "name": "search",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "example": "great"
                    },
                    {
                        "name": "rating_min",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 5,
                            "minimum": 1
                        },
                        "example": 3
                    },
                    {
                        "name": "rating_max",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 5,
                            "minimum": 1
                        },
                        "example": 5
                    },
                    {
                        "name": "page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 1
                        },
                        "example": 1
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 10
                        },
                        "example": 10
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Paginated reviews",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/PaginatedProposalReviewSearchHitResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not found"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/proposals/{proposal}/reviews/me": {
            "put": {
                "tags": [
                    "Reviews"
                ],
                "summary": "Upsert current reviewer review for proposal",
                "operationId": "reviewsUpsertMine",
                "parameters": [
                    {
                        "name": "proposal",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        },
                        "example": 10
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/ProposalReviewUpsertRequest"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created/updated review",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ProposalReview"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not found"
                    },
                    "422": {
                        "description": "Validation error"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/tags": {
            "get": {
                "tags": [
                    "Tags"
                ],
                "summary": "List tags (autocomplete / library)",
                "operationId": "tagsIndex",
                "parameters": [
                    {
                        "name": "search",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "string"
                        },
                        "example": "tech"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "default": 20
                        },
                        "example": 20
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tags list",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Tag"
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    },
                    "403": {
                        "description": "Forbidden / Email not verified"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        }
    },
    "components": {
        "schemas": {
            "User": {
                "required": [
                    "id",
                    "name",
                    "email",
                    "role"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "Mush"
                    },
                    "email": {
                        "type": "string",
                        "example": "mush@example.com"
                    },
                    "role": {
                        "description": "Role name from DB roles table",
                        "type": "string",
                        "example": "speaker"
                    }
                },
                "type": "object"
            },
            "AuthRegisterRequest": {
                "required": [
                    "provider",
                    "name",
                    "email",
                    "password",
                    "password_confirmation",
                    "role"
                ],
                "properties": {
                    "provider": {
                        "type": "string",
                        "example": "local"
                    },
                    "name": {
                        "type": "string",
                        "example": "Mush"
                    },
                    "email": {
                        "type": "string",
                        "example": "mush@example.com"
                    },
                    "password": {
                        "type": "string",
                        "example": "password123"
                    },
                    "password_confirmation": {
                        "type": "string",
                        "example": "password123"
                    },
                    "role": {
                        "description": "Validated via exists:roles,name",
                        "type": "string",
                        "example": "speaker"
                    },
                    "oauth_token": {
                        "description": "Reserved for future OAuth providers",
                        "type": "string",
                        "example": null,
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "AuthLoginRequest": {
                "required": [
                    "provider",
                    "email",
                    "password"
                ],
                "properties": {
                    "provider": {
                        "type": "string",
                        "example": "local"
                    },
                    "email": {
                        "type": "string",
                        "example": "mush@example.com"
                    },
                    "password": {
                        "type": "string",
                        "example": "password123"
                    },
                    "oauth_token": {
                        "description": "Reserved for future OAuth providers",
                        "type": "string",
                        "example": null,
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "AuthFlags": {
                "required": [
                    "must_verify_email",
                    "email_verified"
                ],
                "properties": {
                    "must_verify_email": {
                        "type": "boolean",
                        "example": true
                    },
                    "email_verified": {
                        "type": "boolean",
                        "example": false
                    }
                },
                "type": "object"
            },
            "AuthTokenResponse": {
                "required": [
                    "token",
                    "user",
                    "must_verify_email",
                    "email_verified"
                ],
                "properties": {
                    "token": {
                        "type": "string",
                        "example": "1|sanctum_token_here"
                    },
                    "user": {
                        "$ref": "#/components/schemas/User"
                    },
                    "must_verify_email": {
                        "type": "boolean",
                        "example": true
                    },
                    "email_verified": {
                        "type": "boolean",
                        "example": false
                    }
                },
                "type": "object"
            },
            "AuthMeResponse": {
                "required": [
                    "user",
                    "must_verify_email",
                    "email_verified"
                ],
                "properties": {
                    "user": {
                        "$ref": "#/components/schemas/User"
                    },
                    "must_verify_email": {
                        "type": "boolean",
                        "example": true
                    },
                    "email_verified": {
                        "type": "boolean",
                        "example": false
                    }
                },
                "type": "object"
            },
            "GenericOkResponse": {
                "required": [
                    "ok"
                ],
                "properties": {
                    "ok": {
                        "type": "boolean",
                        "example": true
                    }
                },
                "type": "object"
            },
            "LaravelPaginationLink": {
                "required": [
                    "url",
                    "label",
                    "active"
                ],
                "properties": {
                    "url": {
                        "type": "string",
                        "example": "http://localhost:8080/api/proposals?page=1",
                        "nullable": true
                    },
                    "label": {
                        "type": "string",
                        "example": "1"
                    },
                    "page": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "active": {
                        "type": "boolean",
                        "example": true
                    }
                },
                "type": "object"
            },
            "NotificationItem": {
                "required": [
                    "id",
                    "type",
                    "created_at",
                    "read_at",
                    "data"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "example": "9b7b5bd6-8f5f-4f85-9b47-7a2f7f29a2d1"
                    },
                    "type": {
                        "type": "string",
                        "example": "App\\Services\\Proposals\\Notifications\\ProposalSubmittedNotification"
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-28T10:20:00.000000Z",
                        "nullable": true
                    },
                    "read_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": null,
                        "nullable": true
                    },
                    "data": {
                        "type": "object",
                        "example": {
                            "type": "proposal_submitted",
                            "proposal_id": 4,
                            "title": "Modern Laravel at Scale"
                        },
                        "additionalProperties": true
                    }
                },
                "type": "object"
            },
            "NotificationsListResponse": {
                "required": [
                    "items",
                    "unread"
                ],
                "properties": {
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/NotificationItem"
                        }
                    },
                    "unread": {
                        "type": "integer",
                        "example": 3
                    }
                },
                "type": "object"
            },
            "NotificationsUnreadCountResponse": {
                "required": [
                    "unread"
                ],
                "properties": {
                    "unread": {
                        "type": "integer",
                        "example": 3
                    }
                },
                "type": "object"
            },
            "PaginationMeta": {
                "required": [
                    "current_page",
                    "per_page",
                    "total",
                    "last_page"
                ],
                "properties": {
                    "current_page": {
                        "type": "integer",
                        "example": 1
                    },
                    "per_page": {
                        "type": "integer",
                        "example": 10
                    },
                    "total": {
                        "type": "integer",
                        "example": 42
                    },
                    "last_page": {
                        "type": "integer",
                        "example": 5
                    }
                },
                "type": "object"
            },
            "ProposalReview": {
                "required": [
                    "id",
                    "proposal_id",
                    "reviewer_id",
                    "rating"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 10
                    },
                    "proposal_id": {
                        "type": "integer",
                        "example": 4
                    },
                    "reviewer_id": {
                        "type": "integer",
                        "example": 2
                    },
                    "rating": {
                        "type": "integer",
                        "example": 5
                    },
                    "comment": {
                        "type": "string",
                        "example": "Great talk.",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-27T22:12:00.000000Z",
                        "nullable": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-27T22:12:00.000000Z",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "ProposalReviewSearchDocumentContent": {
                "required": [
                    "id",
                    "proposal_id",
                    "reviewer_id",
                    "rating",
                    "comment",
                    "created_at"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 10
                    },
                    "proposal_id": {
                        "type": "integer",
                        "example": 4
                    },
                    "reviewer_id": {
                        "type": "integer",
                        "example": 2
                    },
                    "rating": {
                        "type": "integer",
                        "example": 4
                    },
                    "comment": {
                        "type": "string",
                        "example": "Nice structure, add more examples.",
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-27T22:12:00+00:00"
                    }
                },
                "type": "object"
            },
            "ProposalReviewSearchDocument": {
                "required": [
                    "id",
                    "content"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "example": "10"
                    },
                    "content": {
                        "$ref": "#/components/schemas/ProposalReviewSearchDocumentContent"
                    }
                },
                "type": "object"
            },
            "ProposalReviewSearchHit": {
                "required": [
                    "model",
                    "index_name",
                    "document",
                    "highlight",
                    "score"
                ],
                "properties": {
                    "model": {
                        "$ref": "#/components/schemas/ProposalReview"
                    },
                    "index_name": {
                        "type": "string",
                        "example": "proposal_reviews"
                    },
                    "document": {
                        "$ref": "#/components/schemas/ProposalReviewSearchDocument"
                    },
                    "highlight": {
                        "type": "object",
                        "example": null,
                        "nullable": true
                    },
                    "score": {
                        "type": "number",
                        "format": "float",
                        "example": null,
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PaginatedProposalReviewSearchHitResponse": {
                "required": [
                    "current_page",
                    "data",
                    "last_page",
                    "links",
                    "path",
                    "per_page",
                    "total"
                ],
                "properties": {
                    "current_page": {
                        "type": "integer",
                        "example": 1
                    },
                    "data": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ProposalReviewSearchHit"
                        }
                    },
                    "first_page_url": {
                        "type": "string",
                        "example": "http://localhost:8080/api/proposals/4/reviews?page=1",
                        "nullable": true
                    },
                    "from": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "last_page": {
                        "type": "integer",
                        "example": 1
                    },
                    "last_page_url": {
                        "type": "string",
                        "example": "http://localhost:8080/api/proposals/4/reviews?page=1",
                        "nullable": true
                    },
                    "links": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/LaravelPaginationLink"
                        }
                    },
                    "next_page_url": {
                        "type": "string",
                        "example": null,
                        "nullable": true
                    },
                    "path": {
                        "type": "string",
                        "example": "http://localhost:8080/api/proposals/4/reviews"
                    },
                    "per_page": {
                        "type": "integer",
                        "example": 10
                    },
                    "prev_page_url": {
                        "type": "string",
                        "example": null,
                        "nullable": true
                    },
                    "to": {
                        "type": "integer",
                        "example": 2,
                        "nullable": true
                    },
                    "total": {
                        "type": "integer",
                        "example": 2
                    }
                },
                "type": "object"
            },
            "ProposalReviewUpsertRequest": {
                "required": [
                    "rating"
                ],
                "properties": {
                    "rating": {
                        "type": "integer",
                        "maximum": 5,
                        "minimum": 1,
                        "example": 5
                    },
                    "comment": {
                        "type": "string",
                        "example": "Great talk.",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "Proposal": {
                "required": [
                    "id",
                    "speaker_id",
                    "title",
                    "description",
                    "status"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 4
                    },
                    "speaker_id": {
                        "type": "integer",
                        "example": 1
                    },
                    "title": {
                        "type": "string",
                        "example": "Modern Laravel at Scale"
                    },
                    "description": {
                        "type": "string",
                        "example": "We will discuss queues, caching, and architecture..."
                    },
                    "attachment_path": {
                        "type": "string",
                        "example": null,
                        "nullable": true
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "pending",
                            "approved",
                            "rejected"
                        ],
                        "example": "pending"
                    },
                    "tag_names": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "Technology",
                            "Business"
                        ],
                        "nullable": true
                    },
                    "reviews_count": {
                        "type": "integer",
                        "example": 2,
                        "nullable": true
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-27T22:08:46.000000Z",
                        "nullable": true
                    },
                    "updated_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-27T22:08:46.000000Z",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "ProposalSearchDocumentContent": {
                "required": [
                    "id",
                    "title",
                    "description",
                    "status",
                    "speaker_id",
                    "tag_ids",
                    "tag_names",
                    "created_at"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 4
                    },
                    "title": {
                        "type": "string",
                        "example": "Modern Laravel at Scale"
                    },
                    "description": {
                        "type": "string",
                        "example": "We will discuss queues, caching, and architecture..."
                    },
                    "status": {
                        "type": "string",
                        "enum": [
                            "pending",
                            "approved",
                            "rejected"
                        ],
                        "example": "pending"
                    },
                    "speaker_id": {
                        "type": "integer",
                        "example": 1
                    },
                    "tag_ids": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": []
                    },
                    "tag_names": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": []
                    },
                    "created_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-27T22:08:46+00:00"
                    }
                },
                "type": "object"
            },
            "ProposalSearchDocument": {
                "required": [
                    "id",
                    "content"
                ],
                "properties": {
                    "id": {
                        "type": "string",
                        "example": "4"
                    },
                    "content": {
                        "$ref": "#/components/schemas/ProposalSearchDocumentContent"
                    }
                },
                "type": "object"
            },
            "ProposalSearchHit": {
                "required": [
                    "model",
                    "index_name",
                    "document",
                    "highlight",
                    "score"
                ],
                "properties": {
                    "model": {
                        "$ref": "#/components/schemas/Proposal"
                    },
                    "index_name": {
                        "type": "string",
                        "example": "proposals"
                    },
                    "document": {
                        "$ref": "#/components/schemas/ProposalSearchDocument"
                    },
                    "highlight": {
                        "type": "object",
                        "example": null,
                        "nullable": true
                    },
                    "score": {
                        "type": "number",
                        "format": "float",
                        "example": null,
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "PaginatedProposalSearchHitResponse": {
                "required": [
                    "current_page",
                    "data",
                    "last_page",
                    "links",
                    "path",
                    "per_page",
                    "total"
                ],
                "properties": {
                    "current_page": {
                        "type": "integer",
                        "example": 1
                    },
                    "data": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ProposalSearchHit"
                        }
                    },
                    "first_page_url": {
                        "type": "string",
                        "example": "http://localhost:8080/api/proposals?page=1",
                        "nullable": true
                    },
                    "from": {
                        "type": "integer",
                        "example": 1,
                        "nullable": true
                    },
                    "last_page": {
                        "type": "integer",
                        "example": 1
                    },
                    "last_page_url": {
                        "type": "string",
                        "example": "http://localhost:8080/api/proposals?page=1",
                        "nullable": true
                    },
                    "links": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/LaravelPaginationLink"
                        }
                    },
                    "next_page_url": {
                        "type": "string",
                        "example": null,
                        "nullable": true
                    },
                    "path": {
                        "type": "string",
                        "example": "http://localhost:8080/api/proposals"
                    },
                    "per_page": {
                        "type": "integer",
                        "example": 10
                    },
                    "prev_page_url": {
                        "type": "string",
                        "example": null,
                        "nullable": true
                    },
                    "to": {
                        "type": "integer",
                        "example": 2,
                        "nullable": true
                    },
                    "total": {
                        "type": "integer",
                        "example": 2
                    }
                },
                "type": "object"
            },
            "ProposalCreateRequest": {
                "required": [
                    "title",
                    "description"
                ],
                "properties": {
                    "title": {
                        "type": "string",
                        "example": "Modern Laravel at Scale"
                    },
                    "description": {
                        "type": "string",
                        "example": "We will discuss queues, caching, and architecture..."
                    },
                    "tag_ids": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        },
                        "example": [
                            1,
                            2
                        ],
                        "nullable": true
                    },
                    "tag_names": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "Technology",
                            "Business"
                        ],
                        "nullable": true
                    },
                    "file": {
                        "description": "PDF only, max 4MB",
                        "type": "string",
                        "format": "binary",
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "ProposalStatusChangeRequest": {
                "required": [
                    "status"
                ],
                "properties": {
                    "status": {
                        "type": "string",
                        "enum": [
                            "pending",
                            "approved",
                            "rejected"
                        ],
                        "example": "approved"
                    }
                },
                "type": "object"
            },
            "TemporaryDownloadLink": {
                "required": [
                    "url",
                    "expires_at"
                ],
                "properties": {
                    "url": {
                        "type": "string",
                        "example": "http://localhost:8080/api/proposals/4/attachment?expires=...&signature=..."
                    },
                    "expires_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-11-28T10:20:00+00:00"
                    }
                },
                "type": "object"
            },
            "ProposalShowResponse": {
                "required": [
                    "proposal",
                    "attachment"
                ],
                "properties": {
                    "proposal": {
                        "$ref": "#/components/schemas/Proposal"
                    },
                    "attachment": {
                        "oneOf": [
                            {
                                "$ref": "#/components/schemas/TemporaryDownloadLink"
                            }
                        ],
                        "nullable": true
                    }
                },
                "type": "object"
            },
            "Tag": {
                "required": [
                    "id",
                    "name",
                    "slug"
                ],
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "name": {
                        "type": "string",
                        "example": "Technology"
                    },
                    "slug": {
                        "type": "string",
                        "example": "technology"
                    }
                },
                "type": "object"
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "bearerFormat": "Sanctum",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Auth",
            "description": "Authentication endpoints"
        },
        {
            "name": "Notifications",
            "description": "User notifications (database + realtime broadcast)"
        },
        {
            "name": "Proposals",
            "description": "Talk proposals"
        },
        {
            "name": "Tags",
            "description": "Tags library (autocomplete)"
        },
        {
            "name": "Reviews",
            "description": "Reviews"
        }
    ]
}